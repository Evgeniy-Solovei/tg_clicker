import{j as e,u as F,r as l,D as B}from"./index-EBoFHVxy.js";import{H as N}from"./Header-hior3-QI.js";import{i as y}from"./avatarFrend-L-lXDPIn.js";import{i as v,Q as C,B as j,Y as R}from"./ReactToastify-DvPohqAa.js";import{u as x}from"./useMutation-5fp4vCG5.js";import{h as E,k as P,q as c,u as b,l as Y,m as Q}from"./gueryClient-Bg47w06S.js";import{M as z}from"./Modal-Cq70ts8v.js";const U="_container_1omhf_1",k="_main_box_1omhf_10",w="_imgBoxFon_1omhf_16",I="_text_slogan_1omhf_20",S="_your_referrals_1omhf_40",D="_your_referrals_title_1omhf_49",K="_btn_return_1omhf_63",L="_imgBtnReturn_1omhf_73",V="_box_our_friends_1omhf_78",M="_box_no_friends_1omhf_86",X="_text_no_friends_1omhf_94",T="_imgEnotNoFriend_1omhf_106",O="_btn_ref_1omhf_116",q="_iconBtnRef_1omhf_150",W="_btn_copy_1omhf_156",H="_iconBtnCopy_1omhf_174",n={container:U,main_box:k,imgBoxFon:w,text_slogan:I,your_referrals:S,your_referrals_title:D,btn_return:K,imgBtnReturn:L,box_our_friends:V,box_no_friends:M,text_no_friends:X,imgEnotNoFriend:T,btn_ref:O,iconBtnRef:q,btn_copy:W,iconBtnCopy:H},Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJmSURBVHgB3ZmNbdswEIVPQQbQBuYG6Qb2BukGaifwCHInyAjpBu4GciawOwHVCZoNXu9KC1AcnkRRokLkAw6CSYp8Pop/x4JmAKDkx5Ztx2bYvrCVVxNe2drr88J2YnspiuKV1oSFbtkatr+I48j2SKmRRtgslsOyVRPafw4taOA8mgrx+GZMrBQMEbtHfNdPQdqohsQKxYjYmh8HCqMlN7Dk2Q0qGXyG3GA0gfUceFD+6GmQz+Db6FsiNsArDVwPmID65LOqEDYG6k7sbUasWMu2o0gChZ99ib7K9sP14IkWAmG9qAuG6zZtgEn6jhYmwEGDgs8DYh8oEXAL0TTBcN+VRvJVCYHzfP8Fq5SpKTHwzAaDguGWXB+WEjNFbF/wUckPXufXEPtfMFup5CX1boxY4Z7cftbHgRIBN+O0UW3wy0/Kn9lQhtyR25jc0vIG5A9liAguPekXyhQRbDzpLWWK5uF1D4mfASg7uTvKF2/P5yzYeNLanAX7pts8PQx3RjSerMs94rePv3hx+U1p0LYLJ0IcYRGYSKDvzcsYwanFVkq7x65ANmKveqzS9uNUwWuIrZW2bb9QCA0lBvoxTaimCha2lAiu+wF6POR8W3gKe1oYuJjEUPBmM0ewsNixH/ppR3eQUvA8UpHFjBM1nFctYhzjKfh8Ta8xjoWbN0fPf1IGLo7WBNSr9mIhub3fP3m5/d5r5MMD2u+49awnv8J6Vwbjg3pIbK+MgR4dWoIGoWEFTFjBEB7yD8Vipfu6r4j3uHR9g8jgeEEzgLu63ZHbv3bXtobeXt1217Yt2wvbac7V7T+/1PgyoW+7cQAAAABJRU5ErkJggg==",G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMYSURBVHgBxZhPaBNBFMZfNFjUKqIWehFbDyoqSCkea+PFPwiinjxU0UNBJB482Ra1qSKCVS8eFYN6qiiCHvSgREFERLD+Q62aQClWVGxpEYXaPL9hZ+U5yWZn0mz6wY/dzH4z7+3s29ndEFVJzLwOnAdZ8AuMgcegEyylagtBO7i0BsEmqpYQrNtIYAK8BG+LJLeVohaCtBlBT4AF4vgycEMcHwaLKErpGfF1qITvnvB1U1TC4PUi0KcQ73LhfUoRJrVFXjYL/3vfPIOi02Kx/8fC/42iFk54pZipTIi3DoxrbzZO5QVsxKYZ1IAh8CIWi41KD36/g0+1qbttPfab0PY8YMgDoFbvPyTHZDaCB1yoPEizsTLz/2tUjous3Gg7aIzVSLaCOcXhyoE1ok9cFrDWNZ3sKfDIOJZySajT6Kxm6ww4Ci6DIXFs2J8RbGeB/Wynr2CFbUINYFJ07grwfBSem6AVPGF3pWMWSfVgc0z/vIhibQ/w1WEzQF5hF5Mq+lvgFfgOZoIloBUkyEUIlhFnsTrE21vkzPvBhpB+avVPgh+qA1kk9UYP/sXCu9dIqIMcpMugx8b4WgdQi1ttiDcpEjpOZcrmMeMveCqh5hBvQuzfp6iEM94lzv4Di/chw7dT+HIUtRBkQAYECXFsPnuLYV54khS1EGStKnSjiEd0gj+N9ks0RYXWlL5c28l7+Eqp9gYwx2hfFbYE+OOCbWA2uUjfTSNcntIcUH967Jz2XbdNpoa9bzQpVTO3QTt760lce+eBFnBSBPJ1uEQMXxnbpO4ag/ex9xix6bsPfNb9Npfw2ScF0znRQX3F7iFHsXdHLgzxBCYVN4xt2PifQpNgBx7Azosg+owZ46qbpD7ArgpevvzlyeicE2dwhCogXX85dpDsvFu0P6MKCWM1saPk5ZO100UVkvpYQJyzVPjcTOites/qF+0T//bEFI9SFSQmpqDQ5YruF9hcno7/i4Tk5bsCUrpN/bE1SG4aB724XFepUmLvWZTlqcn6lcXq8ukv3BZwAZTzPvQb9Dn4T5M3u3fMA38BPr6flpGmlcoAAAAASUVORK5CYII=",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJXSURBVHgB7ZnhVcIwEMf/9fldncA6gXUC3UCcADaQDYAJwAkoE4gTtBuAE4ATgBPEu9dDKrRpaJvS+vp7Ly/CXRsvd7lLAtDS0hLHQYkopa6pu6LmUls7jvN1ILvXPJ6mv6XvP1EFNOiA2kb95VFkboIsCZ3+WAyzZsA05Z/yRH6tzMjSXySNXzic6MVd6nz5OKc2o7ZFFB7rmJ6LKMzS0OnzGD35e0h6I5QJDRbILK1gkdg4waHsAsVxpfdhl1B671BQhhFVc7S4yzDCR7QGlrBLSG1NbYKWmmKUYqUIdbCPxyWluTeRcVXtUZvEK27ZSKEbUAtpnI9TH54mFJ0gJl/IdwNYhN7/KuNsDmUXGQ+OsS8yadjbCiSPY56dpGL20QB0nnhGQ9AZUVWYFKaJFfuI1oi68L/3Tio6bqYRoEa04cTw3klFh/hbWETO3TyOef0yDafa750Mqe/e6QS20nuwiyv9URbMa0R8NubSd9jlsICcZ3ry8cgIR/Mgx/gwRcxXizeixwbxdc3vgQl777yQ3lb03pEdekn6LvZeYJlnfPjKWNhKZmenyxlqlaDzLHJPmaHT52vNxLvcS+THp5c+8MzJhe+dim4DeW3wDK53x0jqlyTrQ79udPrs3dnOS8YYeILh9Gq1PpigW9gmVvNMheyBNFefFY55VT1d5EDnCY7z02LwTKQaIYvIR7XkmrSsYjdCtd74Rg4ybwBlwYawv0fiFHuHHGRuO6QGPCE6VdmCvd1BFUgqXahyCVTB9JzrNzsV7ZdcFAux3e96jciALS1N4gfZqX1oMVPCkQAAAABJRU5ErkJggg==",$="_our_friend_ttag8_1",ee="_avatar_ttag8_10",ne="_name_friend_ttag8_18",se="_line_ttag8_32",_={our_friend:$,avatar:ee,name_friend:ne,line:se},te="_btn_s617q_1",ie="_imgDiamond_s617q_26",p={btn:te,imgDiamond:ie};function oe({onClick:s}){return e.jsxs("button",{className:p.btn,onClick:s,children:[e.jsx("img",{src:v,className:p.imgDiamond}),"Забрать"]})}const re="_modal_content_xexfv_1",ae="_btn2_xexfv_11",ce="_imgPrize_xexfv_41",Ae="_text_prize_xexfv_46",g={modal_content:re,btn2:ae,imgPrize:ce,text_prize:Ae},me="/assets/imgFonModal-D1pP5teU.png",le="/assets/imgPrize-DHe4jZhK.png";function _e({onClose:s}){return e.jsxs(e.Fragment,{children:[" ",e.jsx("img",{src:me,className:g.imgFon}),e.jsx("p",{className:g.text_prize,children:"Твоя награда"}),e.jsx("img",{className:g.imgPrize,src:le}),e.jsx("button",{onClick:s,className:g.btn2,children:"Забрать"})]})}function ge({friendData:s}){const{tg:i,tg_id:A}=F(),[d,o]=l.useState(!1),f=x({mutationFn:t=>E(t.name_box,t.tg_id),onSuccess:()=>{}},c),u=x({mutationFn:t=>P(t.tg_id,t.referral_system_id),onSuccess:t=>{f.mutate({name_box:t.name_box,tg_id:A}),c.invalidateQueries({queryKey:["listFriends"]})}},c),m=()=>{u.mutate({tg_id:A,referral_system_id:s.referral_system_id}),i.HapticFeedback.impactOccurred("light"),o(!0)},r=()=>{o(!1),i.HapticFeedback.impactOccurred("light")};return e.jsxs("div",{className:_.our_friend,children:[e.jsx(z,{isOpen:d,onClose:r,children:e.jsx(_e,{onClose:r})}),e.jsx("img",{src:y,className:_.avatar}),e.jsx("p",{className:_.name_friend,children:s.name}),s.flag&&e.jsx(oe,{onClick:m}),e.jsx("div",{className:_.line})]})}const de="/assets/imgEnotNoFriends-mR7IaW3h.png",fe="/assets/boxFon-B2G7jpg0.png";function Ne(){const{tg_id:s,tg:i}=F(),[A,d]=l.useState([]),[o,f]=l.useState(""),u=()=>{const a=`https://t.me/share/url?url=${o}`;i.openTelegramLink(a),i.HapticFeedback.impactOccurred("light")},m=b({queryKey:["refLink"],queryFn:()=>Y(s)},c);l.useEffect(()=>{m.data&&f(m.data.ref_link)},[m]);const r=b({queryKey:["listFriends"],queryFn:()=>Q(s)},c);l.useEffect(()=>{r.data&&d(r.data)},[r.data]);const t=()=>{i.HapticFeedback.impactOccurred("light"),c.invalidateQueries({queryKey:["listFriends"]})},h=async()=>{try{o&&(i.HapticFeedback.impactOccurred("light"),await navigator.clipboard.writeText(o),j.success("Ссылка  скопирована",{position:"top-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!1,draggable:!1,progress:void 0,theme:"dark",transition:R}))}catch(a){console.log(a)}};return e.jsxs(B,{children:[e.jsx(N,{}),e.jsxs("div",{className:n.container,children:[e.jsxs("div",{className:n.main_box,children:[e.jsx("p",{className:n.text_slogan,children:"Приглашайте ваших друзей!"}),e.jsx("button",{onClick:h,className:n.btn_copy,children:e.jsx("img",{className:n.iconBtnCopy,src:J})}),e.jsxs("button",{onClick:u,className:n.btn_ref,children:["ПРИГЛАСИТЬ ДРУГА",e.jsx("img",{className:n.iconBtnRef,src:G})]}),e.jsx("img",{className:n.imgBoxFon,src:fe})]}),e.jsxs("div",{className:n.your_referrals,children:[e.jsx("p",{className:n.your_referrals_title,children:"Ваши друзья"})," ",e.jsx("button",{onClick:t,className:n.btn_return,children:e.jsx("img",{src:Z,className:n.imgBtnReturn})})]}),e.jsxs("div",{className:n.box_our_friends,children:[A.length?A.map(a=>e.jsx(ge,{friendData:a},a.player_id)):e.jsxs("div",{className:n.box_no_friends,children:[e.jsx("img",{className:n.imgEnotNoFriend,src:de}),e.jsx("p",{className:n.text_no_friends,children:"Вы еще никого не пригласили"})]}),e.jsx(C,{})]})]})]})}export{Ne as default};
