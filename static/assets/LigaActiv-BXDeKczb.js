import{u as d,j as s,r as m,D as p}from"./index-DcSOXoHB.js";import{H as f}from"./Header-B6l9dPzp.js";import{i as b}from"./imgCoin-DwLBqyid.js";import{u as j,q as h,x as w}from"./gueryClient-D8iAOq16.js";import{u}from"./hooks-AkxoZu2h.js";import{i as N}from"./avatarFrend-L-lXDPIn.js";const y="_container_ko9ub_2",v="_box_league_ko9ub_12",k="_name_league_ko9ub_27",C="_imgEnot_ko9ub_38",z="_btn_left_ko9ub_45",E="_btn_right_ko9ub_63",A="_box_progress_ko9ub_81",$="_progress_ko9ub_90",U="_progress_bar_ko9ub_100",q="_title_energy_ko9ub_111",L="_iconCoin_ko9ub_124",D="_box_all_users_ko9ub_131",o={container:y,box_league:v,name_league:k,imgEnot:C,btn_left:z,btn_right:E,box_progress:A,progress:$,progress_bar:U,title_energy:q,iconCoin:L,box_all_users:D},S="/assets/woodenEnot-B51vPMDb.png",B="_box_card_wszcs_1",H="_box_your_card_wszcs_9",F="_imgAvatar_wszcs_23",I="_user_info_wszcs_28",K="_name_user_wszcs_38",M="_coin_window_wszcs_45",P="_coins_wszcs_50",Q="_imgCoin_wszcs_59",R="_line_wszcs_67",r={box_card:B,box_your_card:H,imgAvatar:F,user_info:I,name_user:K,coin_window:M,coins:P,imgCoin:Q,line:R};function T({user:_}){const{tg_id:c}=d();return s.jsxs("div",{className:+c!==_.tg_id?r.box_card:r.box_your_card,children:[s.jsx("img",{src:N,className:r.imgAvatar}),s.jsxs("div",{className:r.user_info,children:[s.jsx("p",{className:r.name_user,children:_.name}),s.jsxs("div",{className:r.coin_window,children:[s.jsx("img",{src:b,className:r.imgCoin}),s.jsx("p",{className:r.coins,children:_.coin})]}),+c!==_.tg_id&&s.jsx("div",{className:r.line})]})]})}function Y(){const _=u(e=>{var n;return(n=e.dataUser.getUser)==null?void 0:n.coin}),c=u(e=>{var n;return(n=e.dataUser.getUser)==null?void 0:n.league}),[a,i]=m.useState(),[g,l]=m.useState(),{data:t}=j({queryKey:["dataLeagues"],queryFn:()=>w()},h);m.useEffect(()=>{if(t)switch(c){case"Деревянная":{const e=t.filter(n=>n.name==="Деревянная");i(e),l(e[0].players),console.log(e);break}case"Бронзовая":{const e=t.filter(n=>n.name==="Бронзовая");i(e),l(e[0].players);break}case"Серебрянная":{const e=t.filter(n=>n.name==="Серебрянная");i(e),l(e[0].players);break}}},[t]);const x=()=>{if(a&&_&&a[0].min_coin)return _*100/(a[0].min_coin*10)};return s.jsxs(p,{children:[s.jsx(f,{}),s.jsxs("div",{className:o.container,children:[s.jsxs("div",{className:o.box_league,children:[(a==null?void 0:a.length)&&s.jsx("h1",{className:o.name_league,children:a[0].name}),s.jsx("img",{className:o.imgEnot,src:S}),s.jsx("button",{className:o.btn_left}),s.jsx("button",{className:o.btn_right}),s.jsxs("div",{className:o.box_progress,children:[s.jsx("img",{src:b,className:o.iconCoin}),t&&a&&s.jsx("span",{className:o.title_energy,children:`${_} / ${a[0].min_coin*10}`})]}),s.jsx("div",{className:o.progress,children:s.jsx("div",{className:o.progress_bar,style:{width:`${x()}%`}})})]}),s.jsx("div",{className:o.box_all_users,children:g&&g.map(e=>s.jsx(T,{user:e}))})]})]})}export{Y as default};
