import{j as s,u as B,r as c,D as w}from"./index-DRmcogro.js";import{H as C}from"./Header-DzDMrUmA.js";import{i as y}from"./avatarFrend-L-lXDPIn.js";import{i as j,Q as R,B as E,Y as v}from"./ReactToastify-BYY-FnKZ.js";import{u as p}from"./useMutation-11_hPVzf.js";import{h as Q,k as U,q as a,u as b,l as Y,m as S}from"./gueryClient-YC0J3Beo.js";import{M as I}from"./Modal-CSllgJHv.js";const P="_container_nwn6f_1",D="_main_box_nwn6f_10",z="_imgFonTown_nwn6f_16",T="_imgEnots_nwn6f_25",V="_your_referrals_nwn6f_33",k="_your_referrals_title_nwn6f_42",X="_btn_return_nwn6f_51",L="_imgBtnReturn_nwn6f_61",K="_box_our_friends_nwn6f_66",M="_box_no_friends_nwn6f_74",O="_text_no_friends_nwn6f_83",W="_imgEnotNoFriend_nwn6f_90",G="_btn_ref_nwn6f_95",q="_iconBtnRef_nwn6f_123",J="_btn_copy_nwn6f_128",Z="_iconBtnCopy_nwn6f_146",H="_box_shadow_nwn6f_154",n={container:P,main_box:D,imgFonTown:z,imgEnots:T,your_referrals:V,your_referrals_title:k,btn_return:X,imgBtnReturn:L,box_our_friends:K,box_no_friends:M,text_no_friends:O,imgEnotNoFriend:W,btn_ref:G,iconBtnRef:q,btn_copy:J,iconBtnCopy:Z,box_shadow:H},$="/assets/backTown-l7wYh9gL.png",ss="/assets/imgEnots-Bo6TT1Kz.png",ns="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJmSURBVHgB3ZmNbdswEIVPQQbQBuYG6Qb2BukGaifwCHInyAjpBu4GciawOwHVCZoNXu9KC1AcnkRRokLkAw6CSYp8Pop/x4JmAKDkx5Ztx2bYvrCVVxNe2drr88J2YnspiuKV1oSFbtkatr+I48j2SKmRRtgslsOyVRPafw4taOA8mgrx+GZMrBQMEbtHfNdPQdqohsQKxYjYmh8HCqMlN7Dk2Q0qGXyG3GA0gfUceFD+6GmQz+Db6FsiNsArDVwPmID65LOqEDYG6k7sbUasWMu2o0gChZ99ib7K9sP14IkWAmG9qAuG6zZtgEn6jhYmwEGDgs8DYh8oEXAL0TTBcN+VRvJVCYHzfP8Fq5SpKTHwzAaDguGWXB+WEjNFbF/wUckPXufXEPtfMFup5CX1boxY4Z7cftbHgRIBN+O0UW3wy0/Kn9lQhtyR25jc0vIG5A9liAguPekXyhQRbDzpLWWK5uF1D4mfASg7uTvKF2/P5yzYeNLanAX7pts8PQx3RjSerMs94rePv3hx+U1p0LYLJ0IcYRGYSKDvzcsYwanFVkq7x65ANmKveqzS9uNUwWuIrZW2bb9QCA0lBvoxTaimCha2lAiu+wF6POR8W3gKe1oYuJjEUPBmM0ewsNixH/ppR3eQUvA8UpHFjBM1nFctYhzjKfh8Ta8xjoWbN0fPf1IGLo7WBNSr9mIhub3fP3m5/d5r5MMD2u+49awnv8J6Vwbjg3pIbK+MgR4dWoIGoWEFTFjBEB7yD8Vipfu6r4j3uHR9g8jgeEEzgLu63ZHbv3bXtobeXt1217Yt2wvbac7V7T+/1PgyoW+7cQAAAABJRU5ErkJggg==",es="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMYSURBVHgBxZhPaBNBFMZfNFjUKqIWehFbDyoqSCkea+PFPwiinjxU0UNBJB482Ra1qSKCVS8eFYN6qiiCHvSgREFERLD+Q62aQClWVGxpEYXaPL9hZ+U5yWZn0mz6wY/dzH4z7+3s29ndEFVJzLwOnAdZ8AuMgcegEyylagtBO7i0BsEmqpYQrNtIYAK8BG+LJLeVohaCtBlBT4AF4vgycEMcHwaLKErpGfF1qITvnvB1U1TC4PUi0KcQ73LhfUoRJrVFXjYL/3vfPIOi02Kx/8fC/42iFk54pZipTIi3DoxrbzZO5QVsxKYZ1IAh8CIWi41KD36/g0+1qbttPfab0PY8YMgDoFbvPyTHZDaCB1yoPEizsTLz/2tUjous3Gg7aIzVSLaCOcXhyoE1ok9cFrDWNZ3sKfDIOJZySajT6Kxm6ww4Ci6DIXFs2J8RbGeB/Wynr2CFbUINYFJ07grwfBSem6AVPGF3pWMWSfVgc0z/vIhibQ/w1WEzQF5hF5Mq+lvgFfgOZoIloBUkyEUIlhFnsTrE21vkzPvBhpB+avVPgh+qA1kk9UYP/sXCu9dIqIMcpMugx8b4WgdQi1ttiDcpEjpOZcrmMeMveCqh5hBvQuzfp6iEM94lzv4Di/chw7dT+HIUtRBkQAYECXFsPnuLYV54khS1EGStKnSjiEd0gj+N9ks0RYXWlL5c28l7+Eqp9gYwx2hfFbYE+OOCbWA2uUjfTSNcntIcUH967Jz2XbdNpoa9bzQpVTO3QTt760lce+eBFnBSBPJ1uEQMXxnbpO4ag/ex9xix6bsPfNb9Npfw2ScF0znRQX3F7iFHsXdHLgzxBCYVN4xt2PifQpNgBx7Azosg+owZ46qbpD7ArgpevvzlyeicE2dwhCogXX85dpDsvFu0P6MKCWM1saPk5ZO100UVkvpYQJyzVPjcTOites/qF+0T//bEFI9SFSQmpqDQ5YruF9hcno7/i4Tk5bsCUrpN/bE1SG4aB724XFepUmLvWZTlqcn6lcXq8ukv3BZwAZTzPvQb9Dn4T5M3u3fMA38BPr6flpGmlcoAAAAASUVORK5CYII=",ts="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJXSURBVHgB7ZnhVcIwEMf/9fldncA6gXUC3UCcADaQDYAJwAkoE4gTtBuAE4ATgBPEu9dDKrRpaJvS+vp7Ly/CXRsvd7lLAtDS0hLHQYkopa6pu6LmUls7jvN1ILvXPJ6mv6XvP1EFNOiA2kb95VFkboIsCZ3+WAyzZsA05Z/yRH6tzMjSXySNXzic6MVd6nz5OKc2o7ZFFB7rmJ6LKMzS0OnzGD35e0h6I5QJDRbILK1gkdg4waHsAsVxpfdhl1B671BQhhFVc7S4yzDCR7QGlrBLSG1NbYKWmmKUYqUIdbCPxyWluTeRcVXtUZvEK27ZSKEbUAtpnI9TH54mFJ0gJl/IdwNYhN7/KuNsDmUXGQ+OsS8yadjbCiSPY56dpGL20QB0nnhGQ9AZUVWYFKaJFfuI1oi68L/3Tio6bqYRoEa04cTw3klFh/hbWETO3TyOef0yDafa750Mqe/e6QS20nuwiyv9URbMa0R8NubSd9jlsICcZ3ry8cgIR/Mgx/gwRcxXizeixwbxdc3vgQl777yQ3lb03pEdekn6LvZeYJlnfPjKWNhKZmenyxlqlaDzLHJPmaHT52vNxLvcS+THp5c+8MzJhe+dim4DeW3wDK53x0jqlyTrQ79udPrs3dnOS8YYeILh9Gq1PpigW9gmVvNMheyBNFefFY55VT1d5EDnCY7z02LwTKQaIYvIR7XkmrSsYjdCtd74Rg4ybwBlwYawv0fiFHuHHGRuO6QGPCE6VdmCvd1BFUgqXahyCVTB9JzrNzsV7ZdcFAux3e96jciALS1N4gfZqX1oMVPCkQAAAABJRU5ErkJggg==",os="_our_friend_1h8sp_1",is="_avatar_1h8sp_10",As="_name_friend_1h8sp_15",as="_flag_status_1h8sp_28",rs="_line_1h8sp_36",cs="_flag_status_of_1h8sp_45",m={our_friend:os,avatar:is,name_friend:As,flag_status:as,line:rs,flag_status_of:cs},_s="_btn_ey0gw_1",ls="_imgDiamond_ey0gw_20",F={btn:_s,imgDiamond:ls};function gs({onClick:t}){return s.jsxs("button",{className:F.btn,onClick:t,children:[s.jsx("img",{src:j,className:F.imgDiamond}),"Забрать"]})}const ms="_modal_content_52tz3_1",ds="_btn2_52tz3_11",fs="_text_prize_52tz3_31",x={modal_content:ms,btn2:ds,text_prize:fs},us="/assets/imgFonModal-D1pP5teU.png";function xs({onClose:t}){return s.jsxs(s.Fragment,{children:[" ",s.jsx("img",{src:us,className:x.imgFon}),s.jsx("p",{className:x.text_prize,children:"Твоя награда"}),s.jsx("button",{onClick:t,className:x.btn2,children:"Забрать"})]})}function ps({friendData:t}){const{tg_id:_}=B(),[l,g]=c.useState(!1),r=p({mutationFn:e=>Q(e.name_box,e.tg_id),onSuccess:()=>{}},a),f=p({mutationFn:e=>U(e.tg_id,e.referral_system_id),onSuccess:e=>{r.mutate({name_box:e.name_box,tg_id:_}),a.invalidateQueries({queryKey:["listFriends"]})}},a),u=()=>{f.mutate({tg_id:_,referral_system_id:t.referral_system_id}),g(!0)},i=()=>{g(!1)};return s.jsxs("div",{className:m.our_friend,children:[s.jsx(I,{isOpen:l,onClose:i,children:s.jsx(xs,{onClose:i})}),s.jsx("img",{src:y,className:m.avatar}),s.jsxs("div",{children:[" ",s.jsx("p",{className:m.name_friend,children:t.name})]}),t.flag&&s.jsx(gs,{onClick:u}),s.jsx("div",{className:m.line})]})}const bs="/assets/imgEnotNoFriends-TmgKd-vH.png",Fs="_box_slogan_6l7p7_1",Bs="_line_1_6l7p7_16",Ns="_line_2_6l7p7_25",hs="_line_3_6l7p7_33",ws="_line_4_6l7p7_41",Cs="_line_5_6l7p7_49",ys="_red_dots_6l7p7_57",o={box_slogan:Fs,line_1:Bs,line_2:Ns,line_3:hs,line_4:ws,line_5:Cs,red_dots:ys},d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUsAAAADCAYAAAAayy0rAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACcSURBVHgB7ZHhCsAgCIS193/ldaNtgYSZxX7eBzFTp6eJEEIIIYQQ8gfaDQDNLt+1fDF7isnXSY73jwS5Nj7mRTpGDe2L4S5JDd6Mp3OtZs3sIKu5JHruzBe9RVbDav7TurO8TpX3/WHsxmX8MsQ926tl/TLxw6lZA22e1urUntWFc3bnQrAzOeyDoG+m3mp/2T6yoROrHqr67OYGQnmNAjUM02EAAAAASUVORK5CYII=",js="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAREAAAADCAYAAAC0/TuqAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACLSURBVHgB7VBbCsAwCFN3/yOvboUWpLMq/dlPAtJsPhIlAgAAAAAA+Avs/VRVGbkeMmJyMty+tnbWXINX5nkzbV+kdS2+ZNPDB1rRrN1+EY90KNhREu9U9Czk3+T0DpbrG828k3vfPe5iDy25FvS1QK9aE83VghdN+tpyA0q0sl1PPVXm2Pt/8sysDzspfgJ9FQ8bAAAAAElFTkSuQmCC",Rs="/assets/imgRedDots-Bj8rBVp7.png";function Es(){return s.jsxs("div",{className:o.box_slogan,children:["Приглашайте ваших друзей!",s.jsx("img",{src:d,className:o.line_1}),s.jsx("img",{src:d,className:o.line_2}),s.jsx("img",{src:js,className:o.line_3}),s.jsx("img",{src:d,className:o.line_4}),s.jsx("img",{src:d,className:o.line_5}),s.jsx("img",{src:Rs,className:o.red_dots})]})}function Ds(){const{tg_id:t,tg:_}=B(),[l,g]=c.useState([]),[r,f]=c.useState(""),u=()=>{const A=`https://t.me/share/url?url=${r}`;_.openTelegramLink(A)},i=b({queryKey:["refLink"],queryFn:()=>Y(t)},a);c.useEffect(()=>{i.data&&f(i.data.ref_link)},[i]);const e=b({queryKey:["listFriends"],queryFn:()=>S(t)},a);c.useEffect(()=>{e.data&&g(e.data)},[e.data]);const N=()=>{a.invalidateQueries({queryKey:["listFriends"]})},h=async()=>{try{r&&(await navigator.clipboard.writeText(r),E.success("Ссылка  скопирована",{position:"top-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!1,draggable:!1,progress:void 0,theme:"dark",transition:v}))}catch(A){console.log(A)}};return s.jsxs(w,{children:[s.jsx(C,{}),s.jsxs("div",{className:n.container,children:[s.jsx(Es,{}),s.jsxs("div",{className:n.main_box,children:[s.jsx("div",{className:n.box_shadow}),s.jsx("button",{onClick:h,className:n.btn_copy,children:s.jsx("img",{className:n.iconBtnCopy,src:ts})}),s.jsxs("button",{onClick:u,className:n.btn_ref,children:[s.jsx("span",{children:"ПРИГЛАСИТЬ ДРУГА"}),s.jsx("img",{className:n.iconBtnRef,src:es})]}),s.jsx("img",{src:$,className:n.imgFonTown}),s.jsx("img",{src:ss,className:n.imgEnots})]}),s.jsxs("div",{className:n.your_referrals,children:[s.jsx("p",{className:n.your_referrals_title,children:"Ваши друзья"})," ",s.jsx("button",{onClick:N,className:n.btn_return,children:s.jsx("img",{src:ns,className:n.imgBtnReturn})})]}),s.jsxs("div",{className:n.box_our_friends,children:[l.length?l.map(A=>s.jsx(ps,{friendData:A},A.player_id)):s.jsxs("div",{className:n.box_no_friends,children:[s.jsx("img",{className:n.imgEnotNoFriend,src:bs}),s.jsx("p",{className:n.text_no_friends,children:"Вы еще никого не пригласили"})]}),s.jsx(R,{})]})]})]})}export{Ds as default};
