import{u as b,j as s,r as l,D as f}from"./index-B_wF4m8Q.js";import{H as p}from"./Header-B1Kc6lwL.js";import{i as u}from"./imgCoin-DwLBqyid.js";import{u as j,q as h,x as N}from"./gueryClient-CJsmfK2S.js";import{u as x}from"./hooks-Cb-Frc7l.js";import{i as y}from"./avatarFrend-L-lXDPIn.js";const v="_container_gzf01_2",z="_box_league_gzf01_12",w="_name_league_gzf01_27",C="_imgEnot_gzf01_38",A="_btn_left_gzf01_42",E="_btn_right_gzf01_60",U="_progress_gzf01_78",$="_progress_bar_gzf01_86",k="_title_energy_gzf01_97",q="_box_progress_gzf01_110",L="_iconCoin_gzf01_117",D="_box_all_users_gzf01_124",o={container:v,box_league:z,name_league:w,imgEnot:C,btn_left:A,btn_right:E,progress:U,progress_bar:$,title_energy:k,box_progress:q,iconCoin:L,box_all_users:D},H="/assets/woodenEnot-DUr-HAVk.png",S="_box_card_cxcoe_1",B="_box_your_card_cxcoe_8",F="_imgAvatar_cxcoe_21",I="_user_info_cxcoe_26",K="_name_user_cxcoe_36",Q="_coin_window_cxcoe_43",R="_coins_cxcoe_48",T="_imgCoin_cxcoe_57",V="_line_cxcoe_65",r={box_card:S,box_your_card:B,imgAvatar:F,user_info:I,name_user:K,coin_window:Q,coins:R,imgCoin:T,line:V};function G({user:c}){const{tg_id:t}=b();return s.jsxs("div",{className:+t!==c.tg_id?r.box_card:r.box_your_card,children:[s.jsx("img",{src:y,className:r.imgAvatar}),s.jsxs("div",{className:r.user_info,children:[s.jsx("p",{className:r.name_user,children:c.name}),s.jsxs("div",{className:r.coin_window,children:[s.jsx("img",{src:u,className:r.imgCoin}),s.jsx("p",{className:r.coins,children:c.coin})]}),+t!==c.tg_id&&s.jsx("div",{className:r.line})]})]})}function Y(){const c=x(e=>{var n;return(n=e.dataUser.getUser)==null?void 0:n.coin}),t=x(e=>{var n;return(n=e.dataUser.getUser)==null?void 0:n.league}),[a,i]=l.useState(),[g,m]=l.useState(),{data:_}=j({queryKey:["dataLeagues"],queryFn:()=>N()},h);l.useEffect(()=>{if(_)switch(t){case"Деревянная":{const e=_.filter(n=>n.name==="Деревянная");i(e),console.log(e);break}case"Бронзовая":{const e=_.filter(n=>n.name==="Бронзовая");i(e),m(e[0].players);break}case"Серебрянная":{const e=_.filter(n=>n.name==="Серебрянная");i(e),m(e[0].players);break}}},[_]);const d=()=>{if(a&&c&&a[0].min_coin)return c*100/a[0].min_coin};return s.jsxs(f,{children:[s.jsx(p,{}),s.jsxs("div",{className:o.container,children:[s.jsxs("div",{className:o.box_league,children:[(a==null?void 0:a.length)&&s.jsx("h1",{className:o.name_league,children:a[0].name}),s.jsx("img",{className:o.imgEnot,src:H}),s.jsx("button",{className:o.btn_left}),s.jsx("button",{className:o.btn_right}),s.jsxs("div",{className:o.box_progress,children:[s.jsx("img",{src:u,className:o.iconCoin}),_&&a&&s.jsx("span",{className:o.title_energy,children:`${c} / ${a[0].min_coin}`})]}),s.jsx("div",{className:o.progress,children:s.jsx("div",{className:o.progress_bar,style:{width:`${d()}%`}})})]}),s.jsx("div",{className:o.box_all_users,children:g&&g.map(e=>s.jsx(G,{user:e}))})]})]})}export{Y as default};
