import{j as e,u as p,r as c,D as N}from"./index-BuGGXnwb.js";import{H as h}from"./Header-9hk64Cy-.js";import{i as y}from"./avatarFrend-L-lXDPIn.js";import{i as v,Q as z,B as C,Y as j}from"./ReactToastify-Dmp6KHrx.js";import{u as x}from"./useMutation-BZ75-ITu.js";import{h as R,k as E,q as o,u as b,l as P,m as Y}from"./gueryClient-Tsn-KKGH.js";import{M as Q}from"./Modal-Bbn7tvdl.js";const w="_container_1b2zr_1",U="_main_box_1b2zr_10",I="_imgBoxFon_1b2zr_16",S="_text_slogan_1b2zr_20",k="_your_referrals_1b2zr_40",D="_your_referrals_title_1b2zr_49",K="_btn_return_1b2zr_63",L="_imgBtnReturn_1b2zr_73",V="_box_our_friends_1b2zr_78",M="_box_no_friends_1b2zr_86",X="_text_no_friends_1b2zr_94",T="_imgEnotNoFriend_1b2zr_106",W="_btn_ref_1b2zr_116",q="_iconBtnRef_1b2zr_150",Z="_btn_copy_1b2zr_156",G="_iconBtnCopy_1b2zr_174",n={container:w,main_box:U,imgBoxFon:I,text_slogan:S,your_referrals:k,your_referrals_title:D,btn_return:K,imgBtnReturn:L,box_our_friends:V,box_no_friends:M,text_no_friends:X,imgEnotNoFriend:T,btn_ref:W,iconBtnRef:q,btn_copy:Z,iconBtnCopy:G},O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJmSURBVHgB3ZmNbdswEIVPQQbQBuYG6Qb2BukGaifwCHInyAjpBu4GciawOwHVCZoNXu9KC1AcnkRRokLkAw6CSYp8Pop/x4JmAKDkx5Ztx2bYvrCVVxNe2drr88J2YnspiuKV1oSFbtkatr+I48j2SKmRRtgslsOyVRPafw4taOA8mgrx+GZMrBQMEbtHfNdPQdqohsQKxYjYmh8HCqMlN7Dk2Q0qGXyG3GA0gfUceFD+6GmQz+Db6FsiNsArDVwPmID65LOqEDYG6k7sbUasWMu2o0gChZ99ib7K9sP14IkWAmG9qAuG6zZtgEn6jhYmwEGDgs8DYh8oEXAL0TTBcN+VRvJVCYHzfP8Fq5SpKTHwzAaDguGWXB+WEjNFbF/wUckPXufXEPtfMFup5CX1boxY4Z7cftbHgRIBN+O0UW3wy0/Kn9lQhtyR25jc0vIG5A9liAguPekXyhQRbDzpLWWK5uF1D4mfASg7uTvKF2/P5yzYeNLanAX7pts8PQx3RjSerMs94rePv3hx+U1p0LYLJ0IcYRGYSKDvzcsYwanFVkq7x65ANmKveqzS9uNUwWuIrZW2bb9QCA0lBvoxTaimCha2lAiu+wF6POR8W3gKe1oYuJjEUPBmM0ewsNixH/ppR3eQUvA8UpHFjBM1nFctYhzjKfh8Ta8xjoWbN0fPf1IGLo7WBNSr9mIhub3fP3m5/d5r5MMD2u+49awnv8J6Vwbjg3pIbK+MgR4dWoIGoWEFTFjBEB7yD8Vipfu6r4j3uHR9g8jgeEEzgLu63ZHbv3bXtobeXt1217Yt2wvbac7V7T+/1PgyoW+7cQAAAABJRU5ErkJggg==",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMYSURBVHgBxZhPaBNBFMZfNFjUKqIWehFbDyoqSCkea+PFPwiinjxU0UNBJB482Ra1qSKCVS8eFYN6qiiCHvSgREFERLD+Q62aQClWVGxpEYXaPL9hZ+U5yWZn0mz6wY/dzH4z7+3s29ndEFVJzLwOnAdZ8AuMgcegEyylagtBO7i0BsEmqpYQrNtIYAK8BG+LJLeVohaCtBlBT4AF4vgycEMcHwaLKErpGfF1qITvnvB1U1TC4PUi0KcQ73LhfUoRJrVFXjYL/3vfPIOi02Kx/8fC/42iFk54pZipTIi3DoxrbzZO5QVsxKYZ1IAh8CIWi41KD36/g0+1qbttPfab0PY8YMgDoFbvPyTHZDaCB1yoPEizsTLz/2tUjous3Gg7aIzVSLaCOcXhyoE1ok9cFrDWNZ3sKfDIOJZySajT6Kxm6ww4Ci6DIXFs2J8RbGeB/Wynr2CFbUINYFJ07grwfBSem6AVPGF3pWMWSfVgc0z/vIhibQ/w1WEzQF5hF5Mq+lvgFfgOZoIloBUkyEUIlhFnsTrE21vkzPvBhpB+avVPgh+qA1kk9UYP/sXCu9dIqIMcpMugx8b4WgdQi1ttiDcpEjpOZcrmMeMveCqh5hBvQuzfp6iEM94lzv4Di/chw7dT+HIUtRBkQAYECXFsPnuLYV54khS1EGStKnSjiEd0gj+N9ks0RYXWlL5c28l7+Eqp9gYwx2hfFbYE+OOCbWA2uUjfTSNcntIcUH967Jz2XbdNpoa9bzQpVTO3QTt760lce+eBFnBSBPJ1uEQMXxnbpO4ag/ex9xix6bsPfNb9Npfw2ScF0znRQX3F7iFHsXdHLgzxBCYVN4xt2PifQpNgBx7Azosg+owZ46qbpD7ArgpevvzlyeicE2dwhCogXX85dpDsvFu0P6MKCWM1saPk5ZO100UVkvpYQJyzVPjcTOites/qF+0T//bEFI9SFSQmpqDQ5YruF9hcno7/i4Tk5bsCUrpN/bE1SG4aB724XFepUmLvWZTlqcn6lcXq8ukv3BZwAZTzPvQb9Dn4T5M3u3fMA38BPr6flpGmlcoAAAAASUVORK5CYII=",H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJXSURBVHgB7ZnhVcIwEMf/9fldncA6gXUC3UCcADaQDYAJwAkoE4gTtBuAE4ATgBPEu9dDKrRpaJvS+vp7Ly/CXRsvd7lLAtDS0hLHQYkopa6pu6LmUls7jvN1ILvXPJ6mv6XvP1EFNOiA2kb95VFkboIsCZ3+WAyzZsA05Z/yRH6tzMjSXySNXzic6MVd6nz5OKc2o7ZFFB7rmJ6LKMzS0OnzGD35e0h6I5QJDRbILK1gkdg4waHsAsVxpfdhl1B671BQhhFVc7S4yzDCR7QGlrBLSG1NbYKWmmKUYqUIdbCPxyWluTeRcVXtUZvEK27ZSKEbUAtpnI9TH54mFJ0gJl/IdwNYhN7/KuNsDmUXGQ+OsS8yadjbCiSPY56dpGL20QB0nnhGQ9AZUVWYFKaJFfuI1oi68L/3Tio6bqYRoEa04cTw3klFh/hbWETO3TyOef0yDafa750Mqe/e6QS20nuwiyv9URbMa0R8NubSd9jlsICcZ3ry8cgIR/Mgx/gwRcxXizeixwbxdc3vgQl777yQ3lb03pEdekn6LvZeYJlnfPjKWNhKZmenyxlqlaDzLHJPmaHT52vNxLvcS+THp5c+8MzJhe+dim4DeW3wDK53x0jqlyTrQ79udPrs3dnOS8YYeILh9Gq1PpigW9gmVvNMheyBNFefFY55VT1d5EDnCY7z02LwTKQaIYvIR7XkmrSsYjdCtd74Rg4ybwBlwYawv0fiFHuHHGRuO6QGPCE6VdmCvd1BFUgqXahyCVTB9JzrNzsV7ZdcFAux3e96jciALS1N4gfZqX1oMVPCkQAAAABJRU5ErkJggg==",$="_our_friend_n247r_1",ee="_avatar_n247r_10",ne="_name_friend_n247r_18",se="_line_n247r_32",m={our_friend:$,avatar:ee,name_friend:ne,line:se},te="_btn_awi4e_1",ie="_imgDiamond_awi4e_25",f={btn:te,imgDiamond:ie};function re({onClick:t}){return e.jsxs("button",{className:f.btn,onClick:t,children:[e.jsx("img",{src:v,className:f.imgDiamond}),"Забрать"]})}const oe="_modal_content_xexfv_1",ae="_btn2_xexfv_11",ce="_imgPrize_xexfv_41",Ae="_text_prize_xexfv_46",g={modal_content:oe,btn2:ae,imgPrize:ce,text_prize:Ae},_e="/assets/imgFonModal-D1pP5teU.png",le="/assets/imgPrize-DHe4jZhK.png";function me({onClose:t}){return e.jsxs(e.Fragment,{children:[" ",e.jsx("img",{src:_e,className:g.imgFon}),e.jsx("p",{className:g.text_prize,children:"Твоя награда"}),e.jsx("img",{className:g.imgPrize,src:le}),e.jsx("button",{onClick:t,className:g.btn2,children:"Забрать"})]})}function ge({friendData:t}){const{tg_id:A}=p(),[_,l]=c.useState(!1),a=x({mutationFn:s=>R(s.name_box,s.tg_id),onSuccess:()=>{}},o),d=x({mutationFn:s=>E(s.tg_id,s.referral_system_id),onSuccess:s=>{a.mutate({name_box:s.name_box,tg_id:A}),o.invalidateQueries({queryKey:["listFriends"]})}},o),u=()=>{d.mutate({tg_id:A,referral_system_id:t.referral_system_id}),l(!0)},i=()=>{l(!1)};return e.jsxs("div",{className:m.our_friend,children:[e.jsx(Q,{isOpen:_,onClose:i,children:e.jsx(me,{onClose:i})}),e.jsx("img",{src:y,className:m.avatar}),e.jsx("p",{className:m.name_friend,children:t.name}),t.flag&&e.jsx(re,{onClick:u}),e.jsx("div",{className:m.line})]})}const de="/assets/imgEnotNoFriends-mR7IaW3h.png",ue="/assets/boxFon-B2G7jpg0.png";function he(){const{tg_id:t,tg:A}=p(),[_,l]=c.useState([]),[a,d]=c.useState(""),u=()=>{const r=`https://t.me/share/url?url=${a}`;A.openTelegramLink(r)},i=b({queryKey:["refLink"],queryFn:()=>P(t)},o);c.useEffect(()=>{i.data&&d(i.data.ref_link)},[i]);const s=b({queryKey:["listFriends"],queryFn:()=>Y(t)},o);c.useEffect(()=>{s.data&&l(s.data)},[s.data]);const F=()=>{o.invalidateQueries({queryKey:["listFriends"]})},B=async()=>{try{a&&(await navigator.clipboard.writeText(a),C.success("Ссылка  скопирована",{position:"top-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!1,draggable:!1,progress:void 0,theme:"dark",transition:j}))}catch(r){console.log(r)}};return e.jsxs(N,{children:[e.jsx(h,{}),e.jsxs("div",{className:n.container,children:[e.jsxs("div",{className:n.main_box,children:[e.jsx("p",{className:n.text_slogan,children:"ПРИГЛАШАЙТЕ ВАШИХ ДРУЗЕЙ!"}),e.jsx("button",{onClick:B,className:n.btn_copy,children:e.jsx("img",{className:n.iconBtnCopy,src:H})}),e.jsxs("button",{onClick:u,className:n.btn_ref,children:["ПРИГЛАСИТЬ ДРУГА",e.jsx("img",{className:n.iconBtnRef,src:J})]}),e.jsx("img",{className:n.imgBoxFon,src:ue})]}),e.jsxs("div",{className:n.your_referrals,children:[e.jsx("p",{className:n.your_referrals_title,children:"Ваши друзья"})," ",e.jsx("button",{onClick:F,className:n.btn_return,children:e.jsx("img",{src:O,className:n.imgBtnReturn})})]}),e.jsxs("div",{className:n.box_our_friends,children:[_.length?_.map(r=>e.jsx(ge,{friendData:r},r.player_id)):e.jsxs("div",{className:n.box_no_friends,children:[e.jsx("img",{className:n.imgEnotNoFriend,src:de}),e.jsx("p",{className:n.text_no_friends,children:"Вы еще никого не пригласили"})]}),e.jsx(z,{})]})]})]})}export{he as default};
